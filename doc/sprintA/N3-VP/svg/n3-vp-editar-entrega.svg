<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentStyleType="text/css" height="985px" preserveAspectRatio="none" style="width:1764px;height:985px;background:#FFFFFF;" version="1.1" viewBox="0 0 1764 985" width="1764px" zoomAndPan="magnify"><defs/><g><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="60" x2="60" y1="39.0679" y2="947.578"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="206.5" x2="206.5" y1="39.0679" y2="947.578"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="348.5" x2="348.5" y1="39.0679" y2="947.578"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="496" x2="496" y1="39.0679" y2="947.578"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="636.5" x2="636.5" y1="39.0679" y2="947.578"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="822.5" x2="822.5" y1="39.0679" y2="947.578"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="1089" x2="1089" y1="812.7199" y2="947.578"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="1265" x2="1265" y1="533.7099" y2="947.578"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="1391" x2="1391" y1="408.5239" y2="947.578"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="1556" x2="1556" y1="238.632" y2="947.578"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="1712" x2="1712" y1="39.0679" y2="947.578"/><rect fill="#E2E2F0" height="33.0679" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="110" x="5" y="5"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="96" x="12" y="26.9659">User Interface</text><rect fill="#E2E2F0" height="33.0679" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="110" x="5" y="946.578"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="96" x="12" y="968.5439">User Interface</text><rect fill="#E2E2F0" height="33.0679" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="59" x="177.5" y="5"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="45" x="184.5" y="26.9659">Router</text><rect fill="#E2E2F0" height="33.0679" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="59" x="177.5" y="946.578"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="45" x="184.5" y="968.5439">Router</text><rect fill="#E2E2F0" height="33.0679" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="135" x="281.5" y="5"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="121" x="288.5" y="26.9659">DeliveryController</text><rect fill="#E2E2F0" height="33.0679" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="135" x="281.5" y="946.578"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="121" x="288.5" y="968.5439">DeliveryController</text><rect fill="#E2E2F0" height="33.0679" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="116" x="438" y="5"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="102" x="445" y="26.9659">DeliveryService</text><rect fill="#E2E2F0" height="33.0679" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="116" x="438" y="946.578"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="102" x="445" y="968.5439">DeliveryService</text><rect fill="#E2E2F0" height="33.0679" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="139" x="567.5" y="5"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="125" x="574.5" y="26.9659">DeliveryRepository</text><rect fill="#E2E2F0" height="33.0679" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="139" x="567.5" y="946.578"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="125" x="574.5" y="968.5439">DeliveryRepository</text><rect fill="#E2E2F0" height="33.0679" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="121" x="762.5" y="5"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="107" x="769.5" y="26.9659">DeliveryMapper</text><rect fill="#E2E2F0" height="33.0679" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="121" x="762.5" y="946.578"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="107" x="769.5" y="968.5439">DeliveryMapper</text><rect fill="#E2E2F0" height="33.0679" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="211" x="984" y="946.578"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="197" x="991" y="968.5439">DeliveryUpdateResponseDTO</text><rect fill="#E2E2F0" height="33.0679" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="121" x="1205" y="946.578"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="107" x="1212" y="968.5439">DeliverySchema</text><rect fill="#E2E2F0" height="33.0679" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="110" x="1336" y="946.578"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="96" x="1343" y="968.5439">DeliveryModel</text><rect fill="#E2E2F0" height="33.0679" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="201" x="1456" y="946.578"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="187" x="1463" y="968.5439">DeliveryUpdateRequestDTO</text><rect fill="#E2E2F0" height="33.0679" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="91" x="1667" y="5"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="77" x="1674" y="26.9659">Persistence</text><rect fill="#E2E2F0" height="33.0679" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="91" x="1667" y="946.578"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="77" x="1674" y="968.5439">Persistence</text><polygon fill="#181818" points="195,68.7739,205,72.7739,195,76.7739,199,72.7739" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="60" x2="201" y1="72.7739" y2="72.7739"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="123" x="67" y="66.9649">POST /delivery (json)</text><polygon fill="#181818" points="337,118.186,347,122.186,337,126.186,341,122.186" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="207" x2="343" y1="122.186" y2="122.186"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="91" x="214" y="98.6709">responseDTO =</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="118" x="214" y="116.377">createDelivery(json)</text><line style="stroke:#181818;stroke-width:1.0;" x1="349" x2="391" y1="153.892" y2="153.892"/><line style="stroke:#181818;stroke-width:1.0;" x1="391" x2="391" y1="153.892" y2="166.892"/><line style="stroke:#181818;stroke-width:1.0;" x1="350" x2="391" y1="166.892" y2="166.892"/><polygon fill="#181818" points="360,162.892,350,166.892,360,170.892,356,166.892" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="80" x="356" y="148.083">validate(json)</text><polygon fill="#181818" points="811,194.598,821,198.598,811,202.598,815,198.598" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="349" x2="817" y1="198.598" y2="198.598"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="201" x="356" y="192.789">requestDTO = createUpdateDTO()</text><polygon fill="#181818" points="1444,226.304,1454,230.304,1444,234.304,1448,230.304" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="823" x2="1450" y1="230.304" y2="230.304"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="131" x="830" y="224.495">requestDTO: &lt;&lt;new&gt;&gt;</text><rect fill="#E2E2F0" height="33.0679" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="201" x="1456" y="206.598"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="187" x="1463" y="228.5639">DeliveryUpdateRequestDTO</text><polygon fill="#181818" points="484,288.0779,494,292.0779,484,296.0779,488,292.0779" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="349" x2="490" y1="292.0779" y2="292.0779"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="91" x="356" y="268.5629">responseDTO =</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="123" x="356" y="286.2689">update(requestDTO)</text><line style="stroke:#181818;stroke-width:1.0;" x1="496" x2="538" y1="323.784" y2="323.784"/><line style="stroke:#181818;stroke-width:1.0;" x1="538" x2="538" y1="323.784" y2="336.784"/><line style="stroke:#181818;stroke-width:1.0;" x1="497" x2="538" y1="336.784" y2="336.784"/><polygon fill="#181818" points="507,332.784,497,336.784,507,340.784,503,336.784" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="127" x="503" y="317.975">validate(requestDTO)</text><polygon fill="#181818" points="811,364.49,821,368.49,811,372.49,815,368.49" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="496" x2="817" y1="368.49" y2="368.49"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="191" x="503" y="362.681">delivery = toModel(requestDTO)</text><polygon fill="#181818" points="1324,396.196,1334,400.196,1324,404.196,1328,400.196" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="823" x2="1330" y1="400.196" y2="400.196"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="106" x="830" y="394.387">delivery: &lt;&lt;new&gt;&gt;</text><rect fill="#E2E2F0" height="33.0679" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="110" x="1336" y="376.49"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="96" x="1343" y="398.4559">DeliveryModel</text><polygon fill="#181818" points="625,457.9699,635,461.9699,625,465.9699,629,461.9699" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="496" x2="631" y1="461.9699" y2="461.9699"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="45" x="503" y="438.4549">entity =</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="98" x="503" y="456.1609">update(delivery)</text><polygon fill="#181818" points="811,489.6759,821,493.6759,811,497.6759,815,493.6759" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="637" x2="817" y1="493.6759" y2="493.6759"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="162" x="644" y="487.8669">schema = toSchema(entity)</text><polygon fill="#181818" points="1193,521.382,1203,525.382,1193,529.382,1197,525.382" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="823" x2="1199" y1="525.382" y2="525.382"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="105" x="830" y="519.573">schema: &lt;&lt;new&gt;&gt;</text><rect fill="#E2E2F0" height="33.0679" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="121" x="1205" y="501.6759"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="107" x="1212" y="523.6419">DeliverySchema</text><polygon fill="#181818" points="1700.5,565.4499,1710.5,569.4499,1700.5,573.4499,1704.5,569.4499" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="637" x2="1706.5" y1="569.4499" y2="569.4499"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="150" x="644" y="563.6409">entity = findOne(schema)</text><line style="stroke:#181818;stroke-width:1.0;" x1="637" x2="679" y1="601.1559" y2="601.1559"/><line style="stroke:#181818;stroke-width:1.0;" x1="679" x2="679" y1="601.1559" y2="614.1559"/><line style="stroke:#181818;stroke-width:1.0;" x1="638" x2="679" y1="614.1559" y2="614.1559"/><polygon fill="#181818" points="648,610.1559,638,614.1559,648,618.1559,644,614.1559" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="145" x="644" y="595.3469">verifyEntityExists(entity)</text><polygon fill="#181818" points="1700.5,641.8619,1710.5,645.8619,1700.5,649.8619,1704.5,645.8619" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="637" x2="1706.5" y1="645.8619" y2="645.8619"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="94" x="644" y="640.0529">persist(schema)</text><polygon fill="#181818" points="811,673.5679,821,677.5679,811,681.5679,815,677.5679" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="637" x2="817" y1="677.5679" y2="677.5679"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="153" x="644" y="671.7589">entity = toModel(schema)</text><polygon fill="#181818" points="1379,705.2739,1389,709.2739,1379,713.2739,1383,709.2739" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="823" x2="1385" y1="709.2739" y2="709.2739"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="94" x="830" y="703.4649">entity: &lt;&lt;new&gt;&gt;</text><polygon fill="#181818" points="507,736.98,497,740.98,507,744.98,503,740.98" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="501" x2="636" y1="740.98" y2="740.98"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="35" x="513" y="735.171">entity</text><polygon fill="#181818" points="811,768.686,821,772.686,811,776.686,815,772.686" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="496" x2="817" y1="772.686" y2="772.686"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="264" x="503" y="766.877">responseDTO = updateResponseDTO(entity)</text><polygon fill="#181818" points="972,800.392,982,804.392,972,808.392,976,804.392" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="823" x2="978" y1="804.392" y2="804.392"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="137" x="830" y="798.583">responseDTO &lt;&lt;new&gt;&gt;</text><rect fill="#E2E2F0" height="33.0679" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="211" x="984" y="780.686"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="197" x="991" y="802.6519">DeliveryUpdateResponseDTO</text><polygon fill="#181818" points="360,844.4599,350,848.4599,360,852.4599,356,848.4599" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="354" x2="495" y1="848.4599" y2="848.4599"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="81" x="366" y="842.6509">responseDTO</text><polygon fill="#181818" points="218,876.1659,208,880.1659,218,884.1659,214,880.1659" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="212" x2="348" y1="880.1659" y2="880.1659"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="81" x="224" y="874.3569">responseDTO</text><polygon fill="#181818" points="71,925.578,61,929.578,71,933.578,67,929.578" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="65" x2="206" y1="929.578" y2="929.578"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="77" x="77" y="906.0629">HTTP 201 OK</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="114" x="77" y="923.769">json(responseDTO)</text><!--MD5=[2fefcc0fe03936e761d3ea5fff133b4b]
@startuml
participant "User Interface" as UI
participant "Router" as Router
participant "DeliveryController" as Controller
participant "DeliveryService" as Service

participant "DeliveryRepository" as Repository
participant "DeliveryMapper" as Mapper
participant "DeliveryUpdateResponseDTO" as UpdateResponseDTO
participant "DeliverySchema" as Schema
participant "DeliveryModel" as Model
participant "DeliveryUpdateRequestDTO" as UpdateRequestDTO
participant "Persistence" as Persistence


UI -> Router: POST /delivery (json)
Router -> Controller: responseDTO =\ncreateDelivery(json)
Controller -> Controller: validate(json)
Controller -> Mapper: requestDTO = createUpdateDTO()

create UpdateRequestDTO
Mapper -> UpdateRequestDTO: requestDTO: <<new>>

Controller -> Service: responseDTO =\nupdate(requestDTO)

Service -> Service: validate(requestDTO)

Service -> Mapper: delivery = toModel(requestDTO)

create Model
Mapper -> Model: delivery: <<new>>

Service -> Repository: entity =\nupdate(delivery)

Repository -> Mapper: schema = toSchema(entity)

create Schema
Mapper -> Schema: schema: <<new>>

Repository -> Persistence: entity = findOne(schema)

Repository -> Repository: verifyEntityExists(entity)

Repository -> Persistence: persist(schema)

Repository -> Mapper: entity = toModel(schema)
Mapper -> Model: entity: <<new>>
Repository - -> Service: entity


Service -> Mapper: responseDTO = updateResponseDTO(entity)
create UpdateResponseDTO
Mapper -> UpdateResponseDTO: responseDTO <<new>>

Service - -> Controller: responseDTO

Controller - -> Router: responseDTO

Router - -> UI: HTTP 201 OK\njson(responseDTO)

@enduml

PlantUML version 1.2022.6(Tue Jun 21 18:34:49 WEST 2022)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Default Encoding: UTF-8
Language: en
Country: US
--></g></svg>